(()=>{"use strict";var e,t,n,o,r={2717:(e,t,n)=>{n.d(t,{S1:()=>a,vQ:()=>r,aD:()=>i,w4:()=>s,pi:()=>c});const o=()=>{throw new Error("Core Service is not initilized")};let r=o,i=o,s=o,c=o;async function a(){if(window.useLocalCore){r=()=>!0;const{wrap:e}=await n.e(891).then(n.bind(n,6891)),t=e(new Worker(new URL(n.p+n.u(922),n.b)));t.initCore(),i=t.action,s=async()=>{const e=await t.getDatabaseBackup(),n=document.createElement("a");n.href=window.URL.createObjectURL(e),n.download=e.name,n.style.display="none",document.body.appendChild(n),n.click(),setTimeout((()=>window.URL.revokeObjectURL(n.href)),5e3),n.remove()},c=async()=>{const e=document.createElement("input");e.type="file",e.accept=".zip,application/zip",e.onchange=async n=>{const o=e.files[0];if(!o)return;const r=await t.restoreDatabase(o);"done"===r?window.location.reload():alert("cannotVerifySignature"===r?"Cannot restore backup!\nFile may be corrupted":"Invalid File!\nPlease choose a valid chit backup file")},e.style.display="none",document.body.append(e),e.click()}}else{const{retrocycle:e}=await n.e(315).then(n.bind(n,9315)),t=window.apiURL+"/action";let o=!1;r=()=>{o||fetch("/api/login").then((async e=>{200===e.status&&"LOGGED_IN"===await e.json()||(o=!0,alert("You are not signed in.\nPlease sign in."),window.location.href="/login.html?page="+window.location.href)}))},i=async(n,o)=>{o=o??{};const i=await fetch(t,{method:"POST",body:JSON.stringify({action:n,params:o}),headers:{Accept:"application/json","Content-Type":"application/json"}});if(500===i.status)return!1;if(200!==i.status)return r();const s=await i.json();return e(s)}}}},2535:(e,t,n)=>{function o(){}n.d(t,{f_C:()=>je,P$F:()=>se,R3I:()=>L,f0i:()=>i,Ljt:()=>U,VnY:()=>te,gbL:()=>me,FIv:()=>p,uPJ:()=>ve,YCL:()=>xe,nuO:()=>h,vpE:()=>Le,RMB:()=>S,ogt:()=>O,bGB:()=>T,cSb:()=>P,fwp:()=>K,VOJ:()=>w,u2N:()=>m,gCg:()=>_e,LoY:()=>$e,dvw:()=>ge,edG:()=>X,yRu:()=>r,S1n:()=>Ce,$Tr:()=>j,oLt:()=>A,yef:()=>Ee,ZTd:()=>o,H3E:()=>J,j7q:()=>a,N8:()=>u,oWn:()=>I,RMU:()=>B,vax:()=>Q,rTO:()=>M,BmG:()=>D,fxP:()=>y,czc:()=>z,DhX:()=>N,LdU:()=>f,fLW:()=>R,sCW:()=>F,VHj:()=>W,Ui:()=>be,etI:()=>we,kmG:()=>b});const r=e=>e;function i(e,t){for(const n in t)e[n]=t[n];return e}function s(e){return e()}function c(){return Object.create(null)}function a(e){e.forEach(s)}function l(e){return"function"==typeof e}function u(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function d(e){return 0===Object.keys(e).length}function f(e,...t){if(null==e)return o;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function p(e,t,n){e.$$.on_destroy.push(f(t,n))}function h(e,t,n,o){if(e){const r=g(e,t,n,o);return e[0](r)}}function g(e,t,n,o){return e[1]&&o?i(n.ctx.slice(),e[1](o(t))):n.ctx}function m(e,t,n,o){if(e[2]&&o){const r=e[2](o(n));if(void 0===t.dirty)return r;if("object"==typeof r){const e=[],n=Math.max(t.dirty.length,r.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|r[o];return e}return t.dirty|r}return t.dirty}function b(e,t,n,o,r,i){if(r){const s=g(t,n,o,i);e.p(s,r)}}function w(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function y(e,t,n){return e.set(n),t}const v="undefined"!=typeof window;let $=v?()=>window.performance.now():()=>Date.now(),_=v?e=>requestAnimationFrame(e):o;const k=new Set;function x(e){k.forEach((t=>{t.c(e)||(k.delete(t),t.f())})),0!==k.size&&_(x)}let E=!1;function L(e,t){e.appendChild(t)}function C(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function j(e,t,n){e.insertBefore(t,n||null)}function O(e){e.parentNode.removeChild(e)}function S(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function T(e){return document.createElement(e)}function R(e){return document.createTextNode(e)}function N(){return R(" ")}function P(){return R("")}function A(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function U(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function F(e){return""===e?null:+e}function M(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function D(e,t){e.value=null==t?"":t}function z(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}function I(e,t){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}e.selectedIndex=-1}function B(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function W(e,t,n){e.classList[n?"add":"remove"](t)}const q=new Set;let G,H=0;function Z(e,t,n,o,r,i,s,c=0){const a=16.666/o;let l="{\n";for(let e=0;e<=1;e+=a){const o=t+(n-t)*i(e);l+=100*e+`%{${s(o,1-o)}}\n`}const u=l+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${c}`,f=C(e);q.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=function(e){const t=T("style");return function(e,t){L(e.head||e,t)}(C(e),t),t}(e).sheet),h=f.__svelte_rules||(f.__svelte_rules={});h[d]||(h[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${d} ${o}ms linear ${r}ms 1 both`,H+=1,d}function V(e){G=e}function Y(){if(!G)throw new Error("Function called outside component initialization");return G}function J(e){Y().$$.on_mount.push(e)}function Q(e,t){Y().$$.context.set(e,t)}function K(e){return Y().$$.context.get(e)}function X(e){return Y().$$.context.has(e)}const ee=[],te=[],ne=[],oe=[],re=Promise.resolve();let ie=!1;function se(e){ne.push(e)}let ce=!1;const ae=new Set;function le(){if(!ce){ce=!0;do{for(let e=0;e<ee.length;e+=1){const t=ee[e];V(t),ue(t.$$)}for(V(null),ee.length=0;te.length;)te.pop()();for(let e=0;e<ne.length;e+=1){const t=ne[e];ae.has(t)||(ae.add(t),t())}ne.length=0}while(ee.length);for(;oe.length;)oe.pop()();ie=!1,ce=!1,ae.clear()}}function ue(e){if(null!==e.fragment){e.update(),a(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(se)}}let de;function fe(e,t,n){e.dispatchEvent(function(e,t,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,!1,t),o}(`${t?"intro":"outro"}${n}`))}const pe=new Set;let he;function ge(){he={r:0,c:[],p:he}}function me(){he.r||a(he.c),he=he.p}function be(e,t){e&&e.i&&(pe.delete(e),e.i(t))}function we(e,t,n,o){if(e&&e.o){if(pe.has(e))return;pe.add(e),he.c.push((()=>{pe.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}const ye={duration:0};function ve(e,t,n,i){let s=t(e,n),c=i?0:1,u=null,d=null,f=null;function p(){f&&function(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),r=n.length-o.length;r&&(e.style.animation=o.join(", "),H-=r,H||_((()=>{H||(q.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),q.clear())})))}(e,f)}function h(e,t){const n=e.b-c;return t*=Math.abs(n),{a:c,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function g(t){const{delay:n=0,duration:i=300,easing:l=r,tick:g=o,css:m}=s||ye,b={start:$()+n,b:t};t||(b.group=he,he.r+=1),u||d?d=b:(m&&(p(),f=Z(e,c,t,i,n,l,m)),t&&g(0,1),u=h(b,i),se((()=>fe(e,t,"start"))),function(e){let t;0===k.size&&_(x),new Promise((n=>{k.add(t={c:e,f:n})}))}((t=>{if(d&&t>d.start&&(u=h(d,i),d=null,fe(e,u.b,"start"),m&&(p(),f=Z(e,c,u.b,u.duration,0,l,s.css))),u)if(t>=u.end)g(c=u.b,1-c),fe(e,u.b,"end"),d||(u.b?p():--u.group.r||a(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;c=u.a+u.d*l(e/u.duration),g(c,1-c)}return!(!u&&!d)})))}return{run(e){l(s)?(de||(de=Promise.resolve(),de.then((()=>{de=null}))),de).then((()=>{s=s(),g(e)})):g(e)},end(){p(),u=d=null}}}function $e(e,t){const n={},o={},r={$$scope:1};let i=e.length;for(;i--;){const s=e[i],c=t[i];if(c){for(const e in s)e in c||(o[e]=1);for(const e in c)r[e]||(n[e]=c[e],r[e]=1);e[i]=c}else for(const e in s)r[e]=1}for(const e in o)e in n||(n[e]=void 0);return n}function _e(e){return"object"==typeof e&&null!==e?e:{}}let ke;function xe(e){e&&e.c()}function Ee(e,t,n,o){const{fragment:r,on_mount:i,on_destroy:c,after_update:u}=e.$$;r&&r.m(t,n),o||se((()=>{const t=i.map(s).filter(l);c?c.push(...t):a(t),e.$$.on_mount=[]})),u.forEach(se)}function Le(e,t){const n=e.$$;null!==n.fragment&&(a(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ce(e,t,n,r,i,s,l,u=[-1]){const d=G;V(e);const f=e.$$={fragment:null,ctx:null,props:s,update:o,not_equal:i,bound:c(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:t.context||[]),callbacks:c(),dirty:u,skip_bound:!1,root:t.target||d.$$.root};l&&l(f.root);let p=!1;if(f.ctx=n?n(e,t.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&i(f.ctx[t],f.ctx[t]=r)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](r),p&&function(e,t){-1===e.$$.dirty[0]&&(ee.push(e),ie||(ie=!0,re.then(le)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],f.update(),p=!0,a(f.before_update),f.fragment=!!r&&r(f.ctx),t.target){if(t.hydrate){E=!0;const e=function(e){return Array.from(e.childNodes)}(t.target);f.fragment&&f.fragment.l(e),e.forEach(O)}else f.fragment&&f.fragment.c();t.intro&&be(e.$$.fragment),Ee(e,t.target,t.anchor,t.customElement),E=!1,le()}V(d)}"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global,new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(ke=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(s).filter(l);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){a(this.$$.on_disconnect)}$destroy(){Le(this,1),this.$destroy=o}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!d(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});class je{$destroy(){Le(this,1),this.$destroy=o}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!d(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}},3330:(e,t,n)=>{n.d(t,{fZ:()=>i});var o=n(2535);const r=[];function i(e,t=o.ZTd){let n;const i=new Set;function s(t){if((0,o.N8)(e,t)&&(e=t,n)){const t=!r.length;for(const t of i)t[1](),r.push(t,e);if(t){for(let e=0;e<r.length;e+=2)r[e][0](r[e+1]);r.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(r,c=o.ZTd){const a=[r,c];return i.add(a),1===i.size&&(n=t(s)||o.ZTd),r(e),()=>{i.delete(a),0===i.size&&(n(),n=null)}}}}}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return r[e](n,n.exports,s),n.exports}s.m=r,e=[],s.O=(t,n,o,r)=>{if(!n){var i=1/0;for(u=0;u<e.length;u++){for(var[n,o,r]=e[u],c=!0,a=0;a<n.length;a++)(!1&r||i>=r)&&Object.keys(s.O).every((e=>s.O[e](n[a])))?n.splice(a--,1):(c=!1,r<i&&(i=r));if(c){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,o,r]},s.F={},s.E=e=>{Object.keys(s.F).map((t=>{s.F[t](e)}))},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[])),s.u=e=>"js/"+({327:"appComponent",922:"localCore"}[e]||e)+".js",s.miniCssF=e=>"css/"+(327===e?"appComponent":e)+".css",s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},s.l=(e,n,o,r)=>{if(t[e])t[e].push(n);else{var i,c;if(void 0!==o)for(var a=document.getElementsByTagName("script"),l=0;l<a.length;l++){var u=a[l];if(u.getAttribute("src")==e){i=u;break}}i||(c=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.src=e),t[e]=[n];var d=(n,o)=>{i.onerror=i.onload=null,clearTimeout(f);var r=t[e];if(delete t[e],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((e=>e(o))),n)return n(o)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),c&&document.head.appendChild(i)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e+"../"})(),n=e=>new Promise(((t,n)=>{var o=s.miniCssF(e),r=s.p+o;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var r=(s=n[o]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(r===e||r===t))return s}var i=document.getElementsByTagName("style");for(o=0;o<i.length;o++){var s;if((r=(s=i[o]).getAttribute("data-href"))===e||r===t)return s}})(o,r))return t();((e,t,n,o)=>{var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",r.onerror=r.onload=i=>{if(r.onerror=r.onload=null,"load"===i.type)n();else{var s=i&&("load"===i.type?"missing":i.type),c=i&&i.target&&i.target.href||t,a=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");a.code="CSS_CHUNK_LOAD_FAILED",a.type=s,a.request=c,r.parentNode.removeChild(r),o(a)}},r.href=t,document.head.appendChild(r)})(e,r,t,n)})),o={143:0},s.f.miniCss=(e,t)=>{o[e]?t.push(o[e]):0!==o[e]&&{324:1,327:1,573:1,668:1,716:1,747:1,860:1,880:1,933:1}[e]&&t.push(o[e]=n(e).then((()=>{o[e]=0}),(t=>{throw delete o[e],t})))},(()=>{s.b=document.baseURI||self.location.href;var e={143:0};s.f.j=(t,n)=>{var o=s.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise(((n,r)=>o=e[t]=[n,r]));n.push(o[2]=r);var i=s.p+s.u(t),c=new Error;s.l(i,(n=>{if(s.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;c.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",c.name="ChunkLoadError",c.type=r,c.request=i,o[1](c)}}),"chunk-"+t,t)}},s.F.j=t=>{if(!s.o(e,t)||void 0===e[t]){e[t]=null;var n=document.createElement("link");s.nc&&n.setAttribute("nonce",s.nc),n.rel="prefetch",n.as="script",n.href=s.p+s.u(t),document.head.appendChild(n)}},s.O.j=t=>0===e[t];var t=(t,n)=>{var o,r,[i,c,a]=n,l=0;if(i.some((t=>0!==e[t]))){for(o in c)s.o(c,o)&&(s.m[o]=c[o]);if(a)var u=a(s)}for(t&&t(n);l<i.length;l++)r=i[l],s.o(e,r)&&e[r]&&e[r][0](),e[i[l]]=0;return s.O(u)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),s.O(0,[143],(()=>{s.E(327)}),5);var c={};(()=>{var e=s(2717),t=s(3330);"http:"!=window.location.protocol||window.disableSecureRedirect||(window.document.body.innerText="Redirecting to secure",window.location.href=window.location.href.replace("http:","https:"));const n=new URL(s.p);window.bURL=window.bURL??n.href.substring(n.origin.length,n.href.length-1),window.apiURL=window.apiURL??"/api";const o=(0,t.fZ)(null);let r;window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),o.set(e)}));let i=!1;const c=()=>{i||(i=!0,(0,e.S1)().then((async t=>{r?.set("ready"),window.document.body.innerHTML="",(0,e.vQ)();const n=(await s.e(327).then(s.bind(s,2444))).default;window.app=new n({target:window.document.body,props:{serviceWorkerStatus:r,installEvent:o}})})))};function a(){i||(window.document.body.innerHTML="<style>:root{--text-color:rgb(46, 46, 46);--background-color:rgb(247, 247, 247);--ancor-color:#0e469b}@media (prefers-color-scheme:dark){:root{--text-color:rgb(247, 247, 247);--background-color:rgb(46, 46, 46);--ancor-color:#79aefd}}body{font-family:'Franklin Gothic Medium','Arial Narrow',Arial,sans-serif;padding:1em;text-align:center;color:var(--text-color);background-color:var(--background-color)}a{color:var(--ancor-color)}.lds-ripple{display:inline-block;position:relative;width:80px;height:80px}.lds-ripple div{position:absolute;border:4px solid var(--text-color);opacity:1;border-radius:50%;animation:lds-ripple 1s cubic-bezier(0,.2,.8,1) infinite}.lds-ripple div:nth-child(2){animation-delay:-.5s}@keyframes lds-ripple{0%{top:36px;left:36px;width:0;height:0;opacity:1}100%{top:0;left:0;width:72px;height:72px;opacity:0}}</style> <h2>Please Wait</h2> <h4>Installing service worker</h4> <p>This application needs service worker to be installed before using.</p> <div class=\"lds-ripple\"> <div></div> <div></div> </div> "),window.navigator.serviceWorker.register(new URL(n+"service-worker.js"),{scope:n.href}).then((e=>{r.set("ready"),e.addEventListener("updatefound",(t=>{r.set("downloading");const n=e.installing;n.addEventListener("statechange",(e=>{console.log(`Installing worker state ${n.state}`),"activated"===n.state&&(r.set("refresh"),c())}))}))})).catch((e=>{r.set("error"),console.error(e)}))}window.useLocalCore&&"serviceWorker"in navigator?(navigator.serviceWorker.controller&&c(),r=(0,t.fZ)("preparing"),window.addEventListener("offline",(e=>r.set("offline"))),window.addEventListener("online",(e=>a())),navigator.onLine?a():r.set("offline")):c()})(),c=s.O(c)})();
//# sourceMappingURL=app.js.map