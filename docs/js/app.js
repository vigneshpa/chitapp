(()=>{"use strict";var __webpack_modules__={7883:(e,r,_)=>{_.d(r,{vQ:()=>a,aD:()=>i,w4:()=>n,pi:()=>o});var t=_(9315);let a,i,n,o;if(window.useLocalCore){a=()=>!0;const e=Promise.all([_.e(271),_.e(321)]).then(_.bind(_,2043)),r=(async()=>await(await e).initCore())();i=async(e,_)=>await(await r).actions[e](_),n=async()=>{const r=await(await e).getDatabaseBackup(),_=document.createElement("a");_.href=window.URL.createObjectURL(r),_.download=r.name,_.style.display="none",document.body.appendChild(_),_.click(),setTimeout((()=>window.URL.revokeObjectURL(_.href)),5e3),_.remove()},o=async()=>{const r=document.createElement("input");r.type="file",r.accept=".sqlite3,.sqlite,.db,application/vnd.sqlite3",r.onchange=async _=>{const t=r.files[0];t&&(await e).restoreDatabase(t)},r.style.display="none",document.body.append(r),r.click()}}else{const e=window.apiURL+"/action";let r=!1;a=()=>{if(window.useLocalCore)return!0;r||fetch("/api/login").then((async e=>{200===e.status&&"LOGGED_IN"===await e.json()||(r=!0,alert("You are not signed in.\nPlease sign in."),window.location.href="/login.html?page="+window.location.href)}))},i=async(r,_)=>{_=_??{};const i=await fetch(e,{method:"POST",body:JSON.stringify({action:r,params:_}),headers:{Accept:"application/json","Content-Type":"application/json"}});if(500===i.status)return!1;if(200!==i.status)return a();const n=await i.json();return(0,t.i)(n)}}},9315:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function decycle(e,r){var _=new WeakMap;return function e(t,a){var i,n;return void 0!==r&&(t=r(t)),"object"!=typeof t||null===t||t instanceof Boolean||t instanceof Date||t instanceof Number||t instanceof RegExp||t instanceof String?t:void 0!==(i=_.get(t))?{$ref:i}:(_.set(t,a),Array.isArray(t)?(n=[],t.forEach((function(r,_){n[_]=e(r,a+"["+_+"]")}))):(n={},Object.keys(t).forEach((function(r){n[r]=e(t[r],a+"["+JSON.stringify(r)+"]")}))),n)}(e,"$")}function retrocycle($){var px=/^\$(?:\[(?:\d+|"(?:[^\\"\u0000-\u001f]|\\(?:[\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*")\])*$/;return function rez(value){value&&"object"==typeof value&&(Array.isArray(value)?value.forEach((function(element,i){if("object"==typeof element&&null!==element){var path=element.$ref;"string"==typeof path&&px.test(path)?value[i]=eval(path):rez(element)}})):Object.keys(value).forEach((function(name){var item=value[name];if("object"==typeof item&&null!==item){var path=item.$ref;"string"==typeof path&&px.test(path)?value[name]=eval(path):rez(item)}})))}($),$}__webpack_require__.d(__webpack_exports__,{i:()=>retrocycle})}},__webpack_module_cache__={},deferred,inProgress,loadStylesheet,installedCssChunks;function __webpack_require__(e){var r=__webpack_module_cache__[e];if(void 0!==r)return r.exports;var _=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e](_,_.exports,__webpack_require__),_.loaded=!0,_.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(e,r,_,t)=>{if(!r){var a=1/0;for(c=0;c<deferred.length;c++){for(var[r,_,t]=deferred[c],i=!0,n=0;n<r.length;n++)(!1&t||a>=t)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](r[n])))?r.splice(n--,1):(i=!1,t<a&&(a=t));if(i){deferred.splice(c--,1);var o=_();void 0!==o&&(e=o)}}return e}t=t||0;for(var c=deferred.length;c>0&&deferred[c-1][2]>t;c--)deferred[c]=deferred[c-1];deferred[c]=[r,_,t]},__webpack_require__.F={},__webpack_require__.E=e=>{Object.keys(__webpack_require__.F).map((r=>{__webpack_require__.F[r](e)}))},__webpack_require__.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(r,{a:r}),r},__webpack_require__.d=(e,r)=>{for(var _ in r)__webpack_require__.o(r,_)&&!__webpack_require__.o(e,_)&&Object.defineProperty(e,_,{enumerable:!0,get:r[_]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((r,_)=>(__webpack_require__.f[_](e,r),r)),[])),__webpack_require__.u=e=>"js/"+({321:"core",327:"appComponent"}[e]||e)+".js",__webpack_require__.miniCssF=e=>"css/"+(327===e?"appComponent":e)+".css",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),inProgress={},__webpack_require__.l=(e,r,_,t)=>{if(inProgress[e])inProgress[e].push(r);else{var a,i;if(void 0!==_)for(var n=document.getElementsByTagName("script"),o=0;o<n.length;o++){var c=n[o];if(c.getAttribute("src")==e){a=c;break}}a||(i=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,__webpack_require__.nc&&a.setAttribute("nonce",__webpack_require__.nc),a.src=e),inProgress[e]=[r];var s=(r,_)=>{a.onerror=a.onload=null,clearTimeout(u);var t=inProgress[e];if(delete inProgress[e],a.parentNode&&a.parentNode.removeChild(a),t&&t.forEach((e=>e(_))),r)return r(_)},u=setTimeout(s.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=s.bind(null,a.onerror),a.onload=s.bind(null,a.onload),i&&document.head.appendChild(a)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var r=__webpack_require__.g.document;if(!e&&r&&(r.currentScript&&(e=r.currentScript.src),!e)){var _=r.getElementsByTagName("script");_.length&&(e=_[_.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e+"../"})(),loadStylesheet=e=>new Promise(((r,_)=>{var t=__webpack_require__.miniCssF(e),a=__webpack_require__.p+t;if(((e,r)=>{for(var _=document.getElementsByTagName("link"),t=0;t<_.length;t++){var a=(n=_[t]).getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(a===e||a===r))return n}var i=document.getElementsByTagName("style");for(t=0;t<i.length;t++){var n;if((a=(n=i[t]).getAttribute("data-href"))===e||a===r)return n}})(t,a))return r();((e,r,_,t)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.onerror=a.onload=i=>{if(a.onerror=a.onload=null,"load"===i.type)_();else{var n=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.href||r,c=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=n,c.request=o,a.parentNode.removeChild(a),t(c)}},a.href=r,document.head.appendChild(a)})(e,a,r,_)})),installedCssChunks={143:0},__webpack_require__.f.miniCss=(e,r)=>{installedCssChunks[e]?r.push(installedCssChunks[e]):0!==installedCssChunks[e]&&{324:1,327:1,573:1,668:1,716:1,747:1,860:1,880:1,933:1}[e]&&r.push(installedCssChunks[e]=loadStylesheet(e).then((()=>{installedCssChunks[e]=0}),(r=>{throw delete installedCssChunks[e],r})))},(()=>{var e={143:0};__webpack_require__.f.j=(r,_)=>{var t=__webpack_require__.o(e,r)?e[r]:void 0;if(0!==t)if(t)_.push(t[2]);else{var a=new Promise(((_,a)=>t=e[r]=[_,a]));_.push(t[2]=a);var i=__webpack_require__.p+__webpack_require__.u(r),n=new Error;__webpack_require__.l(i,(_=>{if(__webpack_require__.o(e,r)&&(0!==(t=e[r])&&(e[r]=void 0),t)){var a=_&&("load"===_.type?"missing":_.type),i=_&&_.target&&_.target.src;n.message="Loading chunk "+r+" failed.\n("+a+": "+i+")",n.name="ChunkLoadError",n.type=a,n.request=i,t[1](n)}}),"chunk-"+r,r)}},__webpack_require__.F.j=r=>{if(!__webpack_require__.o(e,r)||void 0===e[r]){e[r]=null;var _=document.createElement("link");__webpack_require__.nc&&_.setAttribute("nonce",__webpack_require__.nc),_.rel="prefetch",_.as="script",_.href=__webpack_require__.p+__webpack_require__.u(r),document.head.appendChild(_)}},__webpack_require__.O.j=r=>0===e[r];var r=(r,_)=>{var t,a,[i,n,o]=_,c=0;if(i.some((r=>0!==e[r]))){for(t in n)__webpack_require__.o(n,t)&&(__webpack_require__.m[t]=n[t]);if(o)var s=o(__webpack_require__)}for(r&&r(_);c<i.length;c++)a=i[c],__webpack_require__.o(e,a)&&e[a]&&e[a][0](),e[i[c]]=0;return __webpack_require__.O(s)},_=self.webpackChunk=self.webpackChunk||[];_.forEach(r.bind(null,0)),_.push=r.bind(null,_.push.bind(_))})(),__webpack_require__.O(0,[143],(()=>{__webpack_require__.E(671),__webpack_require__.E(327)}),5);var __webpack_exports__={};(()=>{var e=__webpack_require__(7883);"http:"!=window.location.protocol||window.disableSecureRedirect||(window.document.body.innerText="Redirecting to secure",window.location.href=window.location.href.replace("http:","https:")),(0,e.vQ)();const r=new URL(__webpack_require__.p);window.bURL=window.bURL??r.href.substring(r.origin.length,r.href.length-1),window.apiURL=window.apiURL??"/api",Promise.all([__webpack_require__.e(671),__webpack_require__.e(327)]).then(__webpack_require__.bind(__webpack_require__,3366)).then((e=>window.app=new e.default({target:window.document.body}))),window.useLocalCore&&"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register(new URL(r+"service-worker.js")).then((e=>{console.log("SW registered: ",e)})).catch((e=>{console.log("SW registration failed: ",e)}))}))})(),__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=app.js.map